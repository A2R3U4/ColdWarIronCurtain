federation_calculator = {
	every_country = {
		clr_country_flag = federation_member #Reset federation member status, will be readded if found
		clr_country_flag = common_market_member #Reset common market member status, will be readded if found
	}
	
	#EUROPEAN UNION#
	set_variable = { global.federation_european_union_count = 0 }
	every_country = {
		limit = {
			has_dynamic_modifier = {
				modifier = federation_european_union
			}
		}
		add_to_variable = { global.federation_european_union_count = 1 } #Adds up all european union members
		set_country_flag = federation_member
	}
	set_variable = { global.federation_european_union_alpha = 0.05 } #0.05% per country
	multiply_variable = { global.federation_european_union_alpha = global.federation_european_union_count }
	
	set_variable = { global.federation_european_union_beta = -0.025 } #-0.25% per country
	multiply_variable = { global.federation_european_union_beta = global.federation_european_union_count }
	
	set_variable = { global.federation_european_union_leader_level_increase = 1 } #always 1
}